<main>
    <section class="change_week">
        <label>Відобразити тиждень номер :</label>
        <mat-radio-group [(ngModel)]="labelPosition" #labelPositin>
            <mat-radio-button class="example-margin" value="1">1</mat-radio-button>
            <mat-radio-button class="example-margin" value="2">2</mat-radio-button>
            <mat-radio-button class="example-margin" value="3">3</mat-radio-button>
            <mat-radio-button class="example-margin" value="4">4</mat-radio-button>
        </mat-radio-group>
        <button (click)="submitNumberOfWeek()">Submit</button>
    </section>
    <form (ngSubmit)="submitReset(menu)" #menu="ngForm">
        <mat-form-field>
            <mat-label>Тип меню</mat-label>
            <mat-select ngModel name="partOfMenu" required #partOfMenu>
                <mat-option value="lunch">Обід</mat-option>
                <mat-option value="drinks">Напої</mat-option>
                <mat-option value="dessert">Десерт</mat-option>
                <mat-option value="set">Мясний сет</mat-option>
                <mat-option value="buffet">Фуршет</mat-option>
            </mat-select>
        </mat-form-field>
        <div *ngIf="partOfMenu.value == 'lunch'" class="additional_inputs">
            <mat-form-field>
                <mat-label>День тижня</mat-label>
                <mat-select ngModel name="dayOfWeek" required>
                    <mat-option value="all">всі</mat-option>
                    <mat-option value="1">понеділок</mat-option>
                    <mat-option value="2">вівторок</mat-option>
                    <mat-option value="3">середа</mat-option>
                    <mat-option value="4">четвер</mat-option>
                    <mat-option value="5">п'ятниця</mat-option>
                    <mat-option value="0">TEST</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <mat-form-field>
            <mat-label>Номер тижня</mat-label>
            <mat-select ngModel name="numberOfWeek" required>
                <mat-option value="all">Всі тижні</mat-option>
                <mat-option value="1">1</mat-option>
                <mat-option value="2">2</mat-option>
                <mat-option value="3">3</mat-option>
                <mat-option value="4">4</mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Страва</mat-label>
            <input matInput type="text" ngModel name="dish1" required>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Страва 2</mat-label>
            <input matInput type="text" ngModel name="dish2">
        </mat-form-field>
        <mat-form-field>
            <mat-label>Страва 3</mat-label>
            <input matInput type="text" ngModel name="dish3" #dish3>
        </mat-form-field>
        <div *ngIf="dish3.value" class="additional_inputs">
            <mat-form-field>
                <mat-label>Страва 4</mat-label>
                <input matInput type="text" ngModel name="dish4">
            </mat-form-field>
            <mat-form-field>
                <mat-label>Страва 5</mat-label>
                <input matInput type="text" ngModel name="dish5">
            </mat-form-field>
            <mat-form-field>
                <mat-label>Страва 6</mat-label>
                <input matInput type="text" ngModel name="dish6">
            </mat-form-field>
            <mat-form-field>
                <mat-label>Страва 7</mat-label>
                <input matInput type="text" ngModel name="dish7">
            </mat-form-field>
            <mat-form-field>
                <mat-label>Страва 8</mat-label>
                <input matInput type="text" ngModel name="dish8">
            </mat-form-field>
            <mat-form-field>
                <mat-label>Страва 9</mat-label>
                <input matInput type="text" ngModel name="dish9">
            </mat-form-field>
            <mat-form-field>
                <mat-label>Страва 10</mat-label>
                <input matInput type="text" ngModel name="dish10">
            </mat-form-field>
        </div>
        <mat-form-field>
            <mat-label>Примітки</mat-label>
            <input matInput type="text" ngModel name="note">
        </mat-form-field>
        <mat-form-field>
            <mat-label>Ціна</mat-label>
            <input matInput type="number" ngModel name="price" required>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Вага</mat-label>
            <input matInput type="number" ngModel name="weight">
        </mat-form-field>
        <mat-form-field>
            <mat-label>Порядковий номер</mat-label>
            <input matInput type="number" ngModel name="idNumber" required>
        </mat-form-field>
        <button [class.disabled]="menu.form.invalid" type="submit">Додати</button>
    </form>
    <div class="container">
        <button (click)="filterByPartOfMenu('lunch')"
            [class.active_button]="checkedPartOfMenu == 'lunch'">Обіди</button>
            <button (click)="filterByPartOfMenu('drinks')"
            [class.active_button]="checkedPartOfMenu == 'buffet'">Напої</button>
        <button (click)="filterByPartOfMenu('set')" [class.active_button]="checkedPartOfMenu == 'set'">Мясні
            сети</button>
        <button (click)="filterByPartOfMenu('dessert')"
            [class.active_button]="checkedPartOfMenu == 'dessert'">Десерти</button>
        <button (click)="filterByPartOfMenu('buffet')"
            [class.active_button]="checkedPartOfMenu == 'buffet'">Фуршет</button>
    </div>
    <nav class="container" *ngIf="checkedPartOfMenu == 'lunch'">
        <button (click)="displayWeek('1')" [class.active_button]="checkedNumberOfWeek === '1'">Тиждень 1</button>
        <button (click)="displayWeek('2')" [class.active_button]="checkedNumberOfWeek == '2'">Тиждень 2</button>
        <button (click)="displayWeek('3')" [class.active_button]="checkedNumberOfWeek == '3'">Тиждень 3</button>
        <button (click)="displayWeek('4')" [class.active_button]="checkedNumberOfWeek == '4'">Тиждень 4</button>
    </nav>
    <nav class="container" *ngIf="checkedPartOfMenu == 'lunch'">
        <button (click)="changeDay('1')" [class.active_button]="checkedDay === '1'">Понеділок</button>
        <button (click)="changeDay('2')" [class.active_button]="checkedDay == '2'">Вівторок</button>
        <button (click)="changeDay('3')" [class.active_button]="checkedDay == '3'">Середа</button>
        <button (click)="changeDay('4')" [class.active_button]="checkedDay == '4'">Четвер</button>
        <button (click)="changeDay('5')" [class.active_button]="checkedDay == '5'">П'ятниця</button>
    </nav>
    <section class="section_table">
        <table>
            <tr>
                <th>Тиж</th>
                <th>№</th>
                <th>Опис</th>
                <th>Примітки</th>
                <th>Вага</th>
                <th>Фото</th>
                <th>Ціна</th>
                <th>Видалити</th>
            </tr>
            <tr class="table_row" *ngFor="let item of showMenu">
                <td>{{item.numberOfWeek}}</td>
                <td>{{item.idNumber}}</td>
                <td class="table_dish">
                    <div> {{item.dish1}}</div>
                    <div> {{item.dish2}}</div>
                    <div> {{item.dish3}}</div>
                    <div> {{item.dish4}}</div>
                    <div> {{item.dish5}}</div>
                    <div> {{item.dish6}}</div>
                    <div> {{item.dish7}}</div>
                    <div> {{item.dish8}}</div>
                    <div> {{item.dish9}}</div>
                    <div> {{item.dish10}}</div>
                </td>
                <td>{{item.note}}</td>
                <td>{{item.weight}}</td>
                <td>
                    <img src={{item.urlOfImage}} width="70px" alt="">
                    <div class="image_input">
                        <mat-label>Додати Зображення</mat-label>
                        <input class="input_button" type="file" (change)="upload($event)" #img
                            accept=".jpg, .jpeg, .png, .webp">
                        <button *ngIf="img.value" (click)="uploadImage(item.id!)">Додати</button>
                    </div>
                </td>
                <td>{{item.price}} грн </td>
                <td>
                    <button (click)="deleteItem(item.id!)"> 
                        <mat-icon>
                            delete
                        </mat-icon>
                    </button>
                </td>
            </tr>
        </table>
    </section>




    <!-- <section>
        <div class="cart" *ngFor="let item of showMenu">
            <div class="info">
                <div class="card_header">
                    <h1 class="item_idNumber">Комплекс # {{item.idNumber}}</h1>
                    <p class="item_price"> Ціна :{{item.price}} грн</p>
                    <div [ngSwitch]="item.dayOfWeek">
                        <div *ngSwitchCase="'1'">Понеділок</div>
                        <div *ngSwitchCase="'2'">Вівторок</div>
                        <div *ngSwitchCase="'3'">Середа</div>
                        <div *ngSwitchCase="'4'">Четвер</div>
                        <div *ngSwitchCase="'5'">П'ятниця</div>
                        <div *ngSwitchCase="'all'">Всі дні</div>
                    </div>
                </div>
                <div class="dishes">
                    <p class="item_name">{{item.dish1}}</p>
                    <p class="item_name">{{item.dish2}}</p>
                    <p class="item_name">{{item.dish3}}</p>
                    <p class="item_name">{{item.dish4}}</p>
                    <p class="item_name">{{item.dish5}}</p>
                    <p class="item_name">{{item.dish6}}</p>
                    <p class="item_id"> Код: {{item.id}}</p>
                </div>
            </div>
            <div class="image_input">
                <mat-label>Додати Зображення</mat-label>
                <input class="input_button" type="file" (change)="upload($event)" #img
                    accept=".jpg, .jpeg, .png, .webp">
                <button *ngIf="img.value" (click)="uploadImage(item.id!)">Додати</button>
            </div>
            <button (click)="deleteItem(item.id!)">
                <mat-icon>
                    delete
                </mat-icon>
            </button>
        </div>
    </section> -->
</main>